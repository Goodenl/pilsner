var F=Object.defineProperty,K=Object.defineProperties;var Y=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var E=(e,t,n)=>t in e?F(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,I=(e,t)=>{for(var n in t||(t={}))J.call(t,n)&&E(e,n,t[n]);if(B)for(var n of B(t))G.call(t,n)&&E(e,n,t[n]);return e},V=(e,t)=>K(e,Y(t));import{r as f,a as A,w as L,o as a,c,b as s,d as T,e as X,n as k,f as h,g as m,h as y,F as b,T as j,i as w,j as Z,k as D,V as ee,l as M,m as $,t as _,p as S,v as N,q as te,s as se,u as ne,x as ie,y as oe,z as ae,A as le,B as re,C as ce}from"./vendor.eefe3233.js";const ue=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}};ue();var v=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};const de={name:"Popup",currentPopupController:null,props:{draggable:Boolean,blockedScreen:Boolean,swipeHide:Boolean},mounted(){document.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)},data(){return{show:!1}},methods:{swipeHandler(e,t){const n=this.$el.closest(".popup").parentElement.closest(".popup");n&&n.scrollTop==0&&(n.scrollTop=1),this.swipeHide&&t.currentTarget.scrollTop==0&&t.cancelable&&this.close()},handleKeydown(e){this.show&&e.key==="Escape"&&this.close()},open(){let e,t;const n=new Promise((r,o)=>{e=r,t=o});return this.$options.currentPopupController={resolve:e,reject:t},this.show=!0,n},confirm(e=!0){this.$options.currentPopupController.resolve(e),this.closeDown()},close(e=!1){this.blockedScreen||(this.$options.currentPopupController.resolve(e),this.closeDown())},closeDown(){this.show=!1,this.$el.scrollTop=0,document.body.removeAttribute("style")}},watch:{show(e){e?(document.body.style.overflowY!="hidden"&&(document.body.style.overflowY="hidden"),this.$refs.popup&&(this.$refs.popup.style.visibility="visible")):(document.body.style.overflowY="auto",setTimeout(()=>{this.$refs.popup&&(this.$refs.popup.style.visibility="hidden")},350))}}},_e={class:"popup__wrap"},pe={class:"popup__content"},me={class:"popup__footer"},he=y("\u0417\u0430\u043A\u0440\u044B\u0442\u044C");function fe(e,t,n,r,o,i){const l=f("c-button"),u=A("touch");return L((a(),c("div",{onClick:t[0]||(t[0]=X(p=>i.close(!1),["self"])),ref:"popup",class:k({popup:!0,"popup--show":o.show,"popup--draggable":n.draggable})},[s("div",_e,[s("div",pe,[T(e.$slots,"main",{confirm:i.confirm,close:i.close})]),s("footer",me,[T(e.$slots,"footer",{confirm:i.confirm,close:i.close},()=>[h(l,{onClick:i.confirm,class:"btn"},{default:m(()=>[he]),_:1},8,["onClick"])])])])],2)),[[u,i.swipeHandler,"swipe",{bottom:!0}]])}var P=v(de,[["render",fe]]),ge="/pilsner/pwa/icons/offline.svg";const ve={name:"App",components:{Popup:P},mounted(){navigator.onLine?(window.addEventListener("offline",this.handleConnection),window.addEventListener("online",this.handleConnection)):setTimeout(this.openOfflinePopup,500)},beforeUnmount(){window.removeEventListener("offline",this.handleConnection),window.removeEventListener("online",this.handleConnection)},methods:{async openOfflinePopup(){await this.$refs.offlinePopup.open()},handleConnection(){navigator.onLine?this.offlinePopup=!1:this.openOfflinePopup()}}},be=s("img",{src:ge,alt:"",class:"offline__icon"},null,-1),$e=s("h3",{class:"offline__warning"},"\u0412\u043D\u0438\u043C\u0430\u043D\u0438\u0435!",-1),ke=s("h2",null,"\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442 \u0432 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043E\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u0435\u0442",-1),ye=s("p",{class:"offline__text"},"\u0414\u043E \u043F\u043E\u044F\u0432\u043B\u0435\u043D\u0438\u044F \u0441\u0432\u044F\u0437\u0438 \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u043D\u0430 \u0440\u0430\u043D\u0435\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u043E\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0430 \u0438\u043B\u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0437\u0436\u0435.",-1),we=["onClick"];function Ce(e,t,n,r,o,i){const l=f("router-view"),u=f("popup");return a(),c(b,null,[h(l,null,{default:m(({Component:p,route:x})=>[h(j,{name:x.meta.transition||"fade"},{default:m(()=>[(a(),w(Z(p)))]),_:2},1032,["name"])]),_:1}),h(u,{class:"popup--offline",ref:"offlinePopup",draggable:""},{main:m(()=>[be,$e,ke,ye]),footer:m(({confirm:p})=>[s("button",{onClick:p,class:"btn btn--primary"},"\u041F\u043E\u043D\u044F\u0442\u043D\u043E",8,we)]),_:1},512)],64)}var xe=v(ve,[["render",Ce]]);const Le={name:"CButton",data(){return{timeout:null}},methods:{tapHandler({currentTarget:e}){e.classList.add("btn--pressed"),this.timeout==null?this.timeout=setTimeout(()=>{e.classList.remove("btn--pressed"),clearTimeout(this.timeout)},600):(clearTimeout(this.timeout),this.timeout=setTimeout(()=>{e.classList.remove("btn--pressed"),clearTimeout(this.timeout)},600))}}};function Te(e,t,n,r,o,i){const l=A("touch");return L((a(),c("button",null,[T(e.$slots,"default")])),[[l,i.tapHandler,"tap"]])}var Me=v(Le,[["render",Te]]);const Pe=e=>{const t=Object.create(null);e.forEach(r=>t[r.id]=V(I({},r),{children:[]}));const n=[];return e.forEach(r=>{r.parent_category?t[r.parent_category].children.push(t[r.id]):n.push(t[r.id])}),n},Ue=(e,t)=>{e.categories=Pe(t)};var Se={state:{TM:JSON.parse(localStorage.getItem("TM"))||"\u041F\u0438\u043B\u0437\u043D\u0435\u0440",applications:[],currentApplication:{id:"1ec57fa6-e054-6a8e-87a4-0025900cf785",title:"\u0427\u0435\u0448\u0441\u043A\u0438\u0435 \u043F\u0438\u0432\u043D\u044B\u0435",trademarks:["1ec57fa6-e08b-6a02-907f-0025900cf785","1ec57fa6-e669-637a-b1f6-0025900cf785","1ec57fa6-ec2f-67c8-b40f-0025900cf785"]},categories:[],categoriesTypes:[],menuTree:[],selCategory:{},categoryMenuShow:!0},getters:{getTM(e){return e.TM},getTrademark(e){return e.currentApplication.trademarks[0]},getCategories(e){return e.categories},getMenuTree(e){const t=[];let n=[];const r=o=>{o.length?o.forEach(i=>r(i)):o.children.length?(r(o.children),n.push(...o.positions)):o.positions&&o.positions.length&&n.push(...o.positions)};return e.categories.forEach(o=>{r(o),t.push({title:o.title,parent_category:o.parent_category,selected:!1,children:o.children,positions:o.positions,allPositions:n.length}),n=[]}),e.menuTree=t,e.menuTree},getTabs(e){const t=[];return e.categories.forEach((n,r)=>{t.push({title:n.title,selected:r===0})}),t},getCards(e){const t=[];let n=[];const r=o=>{o.length?o.forEach(i=>r(i)):o.children.length?(n.push(...o.positions),r(o.children)):o.positions&&o.positions.length&&n.push(...o.positions)};return e.categories.length&&e.categories.forEach(o=>{r(o),t.push({id:o.id,title:o.title,positions:n}),n=[]}),t},getCategoriesTypes(e){return cloneDeep(e.categoriesTypes)},getSelCategory(e){return e.selCategory},catalogPositions(e){return e.selCategory.positions},getSelCategoryStore(e){return e.selCategory._vm.store.getNodeById},getCategoryMenuShow(e){return e.categoryMenuShow},getAddresses(e){return e.addresses}},mutations:{setTM(e,t){localStorage.setItem("TM",JSON.stringify(t)),e.TM=t}},actions:{fetchApplications({state:e,getters:t}){D.get("https://api.apps4business.ru/applications").then(n=>(e.applications=n.data,e.currentApplication=n.data[0],D.get(`https://api.apps4business.ru/menu/?trademark=${t.getTrademark||"1ec57fa6-e08b-6a02-907f-0025900cf785"}&expand=type,positions`))).then(n=>{Ue(e,n.data)})},fetchCategoriesTypes({state:e}){D.get("https://api.apps4business.ru/menu/types/").then(t=>{e.categoriesTypes=t.data})}}},He=new ee.Store({modules:{tm:Se}}),qe="/pilsner/pwa/bg/loading-bg-top.webp",Re="/pilsner/pwa/bg/loading-bg-bottom.webp",Ie="/pilsner/pwa/icons/logo.svg";const Ae={name:"Loading",data(){return{loaded:!1}}},De={class:"loading"},Oe=M('<div class="loading__bg-box"><img class="loading__bg loading__bg--top" src="'+qe+'" alt=""><img class="loading__bg loading__bg--bottom" src="'+Re+'" alt=""></div><div class="loading__info loading__info--loaded"><img class="loading__logo" src="'+Ie+'" alt=""><h2 class="text-white text-center text-huge">\u0414\u043E\u0431\u0440\u043E\u0435 \u0443\u0442\u0440\u043E,<br>\u0421\u0435\u0440\u0433\u0435\u0439</h2></div>',2),Be=[Oe];function Ee(e,t,n,r,o,i){return a(),c("div",De,Be)}var Ve=v(Ae,[["render",Ee]]);const je={name:"TmPopup",props:{blockedScreen:Boolean},components:{Popup:P},data(){return{TMlist:[{imgUrl:this.$getURL("/pwa/icons/pilsner.svg"),title:"\u041F\u0438\u043B\u0437\u043D\u0435\u0440"},{imgUrl:this.$getURL("/pwa/icons/kozlovitsa.svg"),title:"\u041A\u043E\u0437\u043B\u043E\u0432\u0438\u0446\u0430"},{imgUrl:this.$getURL("/pwa/icons/kozlovna.svg"),title:"\u041A\u043E\u0437\u043B\u043E\u0432\u043D\u0430"}]}},methods:{async openTMPopup(){const e=await this.$refs.TMPopup.open();e&&(this.$store.commit("setTM",e),this.$router.push({name:"dashboard"}))}}},Ne=s("span",{class:"text-tabs-active"},"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u0442\u044C \u0440\u0435\u0441\u0442\u043E\u0440\u0430\u043D\u043E\u0432",-1),We={class:"popup-TM__list"},ze=["onClick"],Qe=["src"],Fe={class:"text-big-norm"};function Ke(e,t,n,r,o,i){const l=f("popup");return a(),w(l,{blockedScreen:n.blockedScreen,ref:"TMPopup"},{main:m(()=>[Ne]),footer:m(({confirm:u})=>[s("ul",We,[(a(!0),c(b,null,$(o.TMlist,p=>(a(),c("li",{key:p.title,onClick:x=>u(p),class:"popup-TM__item"},[s("img",{src:p.imgUrl},null,8,Qe),s("span",Fe,_(p.title),1)],8,ze))),128))])]),_:1},8,["blockedScreen"])}var W=v(je,[["render",Ke]]);const Ye={name:"Index",components:{Loading:Ve,TmPopup:W},created(){navigator.onLine&&setTimeout(async()=>await this.$refs.TMPopup.openTMPopup(),4e3)}};function Je(e,t,n,r,o,i){const l=f("loading"),u=f("tm-popup");return a(),c("section",null,[h(l),h(u,{blockedScreen:"",ref:"TMPopup"},null,512)])}var Ge=v(Ye,[["render",Je]]),H="/pilsner/assets/drop-arrow.0b3fcd84.svg",Xe="/pilsner/pwa/picture/panel-about.jpg",Ze="/pilsner/pwa/picture/panel-qr.svg",et="/pilsner/pwa/icons/patch-prize.svg",tt="/pilsner/pwa/icons/news-promo.svg",st="/pilsner/pwa/icons/pilsner-title.svg",z="/pilsner/pwa/icons/inst.svg",nt="/pilsner/pwa/icons/kozlovna-title.svg";const it={name:"DashBoard",components:{TmPopup:W},data(){return{gridList:[{imgUrl:this.$getURL("/pwa/icons/time.svg"),title:"\u0411\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/my-orders.svg"),title:"\u041C\u043E\u0438 \u0437\u0430\u043A\u0430\u0437\u044B",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/lunch-gift.svg"),title:"\u041B\u0430\u043D\u0447-\u043A\u0430\u0440\u0442\u0430",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/lunch.svg"),title:"\u0411\u0438\u0437\u043D\u0435\u0441-\u043B\u0430\u043D\u0447",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/menu.svg"),title:"\u041C\u0435\u043D\u044E",link:{name:"menu"},classes:[null]},{imgUrl:this.$getURL("/pwa/icons/pickup.svg"),title:"\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437",link:{name:"menu-market"},classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/delivery-table.svg"),title:"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430 \u0434\u043E \u0441\u0442\u043E\u043B\u0430",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/marker.svg"),title:"\u0420\u0435\u0441\u0442\u043E\u0440\u0430\u043D\u044B",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/review.svg"),title:"\u041E\u0442\u0437\u044B\u0432",classes:["grid-panel__item--white","text-primary-childs"]},{imgUrl:this.$getURL("/pwa/icons/settings.svg"),title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",classes:["grid-panel__item--white","text-primary-childs"]}]}},methods:{openTMPopup(){this.$refs.TMPopup.openTMPopup()}}},ot={class:"dashboard section"},at={class:"container"},lt={class:"dashboard__wrap"},rt={class:"dashboard__header"},ct={class:"container"},ut=s("img",{src:H,alt:""},null,-1),dt=[ut],_t={class:"dashboard__main"},pt={class:"panel__list"},mt=M('<li class="panel__item"><img class="panel__bg" src="'+Xe+'" alt=""><span class="title__about text-white">\u041E \u043D\u0430\u0441</span></li><li class="panel__item panel__item--primary"><div class="panel__wrap"><div class="panel__text text-white-childs"><h2>\u0411\u043E\u043D\u0443\u0441\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430</h2><p class="text-med-norm panel-bonus">\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E</p><span><h2>1280</h2><h4>\u0431\u043E\u043D\u0443\u0441\u043E\u0432</h4></span></div><img class="panel__qr" src="'+Ze+'" alt=""></div></li>',2),ht={class:"panel__item panel__item--accent"},ft={class:"panel__wrap panel__wrap--p20"},gt=s("img",{class:"panel__patch",src:et,alt:""},null,-1),vt={class:"panel__text text-white-childs"},bt=s("h2",null,"\u041F\u0430\u0447 \u043A\u0430\u0440\u0442\u0430",-1),$t=s("p",{class:"panel-patch"},"\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C",-1),kt={class:"panel__patch-list"},yt=["src"],wt=s("li",{class:"panel__item"},[s("div",{class:"panel__wrap panel__wrap--news-promo"},[s("img",{src:tt,alt:""}),s("h2",null,"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u0438 \u0430\u043A\u0446\u0438\u0438")])],-1),Ct={class:"grid-panel__list text-white-childs"},xt=["onClick"],Lt={class:"grid-panel__img"},Tt=["src"],Mt={class:"grid-panel__text"},Pt={class:"text-big-bold"},Ut=M('<footer class="dashboard__footer"><ul class="soc__list"><li class="soc__item"><img src="'+st+'" alt="" class="soc__title"><img src="'+z+'" alt="" class="soc__icon"></li><li class="soc__item"><img src="'+z+'" alt="" class="soc__icon"><img src="'+nt+'" alt="soc" class="soc__title"></li></ul></footer>',1);function St(e,t,n,r,o,i){const l=f("tm-popup");return a(),c("section",ot,[s("div",at,[s("div",lt,[s("header",rt,[s("div",ct,[s("h1",null,_(e.$store.getters.getTM.title),1),s("div",{onClick:t[0]||(t[0]=(...u)=>i.openTMPopup&&i.openTMPopup(...u)),class:"dashboard__drop-arrow"},dt)])]),s("main",_t,[s("ul",pt,[mt,s("li",ht,[s("div",ft,[gt,s("div",vt,[bt,$t,s("ul",kt,[(a(!0),c(b,null,$(Array(5),(u,p)=>(a(),c("li",{key:u,class:k({"panel__patch-item":!0,"panel__patch-item--has":p<=2})},[s("img",{src:p<=2?e.$getURL("/pwa/icons/patch-has.svg"):e.$getURL("/pwa/icons/patch.svg"),alt:""},null,8,yt)],2))),128))])])])]),wt]),s("ul",Ct,[(a(!0),c(b,null,$(o.gridList,u=>(a(),c("li",{key:u.title,class:k(["grid-panel__item",...u.classes]),onClick:p=>e.$router.push(u.link)},[s("div",Lt,[s("img",{src:u.imgUrl,alt:""},null,8,Tt)]),s("div",Mt,[s("p",Pt,_(u.title),1)])],10,xt))),128))])]),Ut])]),h(l,{ref:"TMPopup"},null,512)])}var Ht=v(it,[["render",St]]),qt="/pilsner/assets/popup-menu.730276f5.jpg",Rt="/pilsner/assets/popup-menu-arrow.95af6d2d.svg";const It={name:"MenuPopupItem",props:{item:Object,confirm:Function},computed:{lastChild(){return Boolean(this.item.children==null)},lastParent(){var e;return this.lastChild?!1:!Boolean((e=this.item.children)==null?void 0:e.length)},nextItemRender(){return this.lastParent?this.item.positions:this.item.children}},methods:{toggleMenuItem(){if(this.item.selected=!this.item.selected,this.lastChild){const e=this.$store.getters.getCards.find(t=>t.positions.includes(this.item));this.selTabHandle(e)}},selTabHandle(e){this.confirm(e)}}},At={class:"popup-menu__item"},Dt={key:0,class:"popup-menu__img",src:qt,alt:""},Ot={key:1,class:"popup-menu__arrow",src:Rt,alt:""},Bt={key:2,class:"popup-menu__last-marker"},Et={key:3,class:"popup-menu__position-count text-accent-childs"},Vt=s("span",{class:"text-small"},"\u043F\u043E\u0437.",-1),jt={key:4,class:"popup-menu__position-action"},Nt=s("img",{src:H,alt:""},null,-1),Wt=[Nt];function zt(e,t,n,r,o,i){const l=f("menu-popup-item",!0);return a(),w(j,{name:"grow",mode:"out-in"},{default:m(()=>[s("li",At,[s("div",{onClick:t[0]||(t[0]=(...u)=>i.toggleMenuItem&&i.toggleMenuItem(...u)),class:k({"popup-menu__item-content":!0,"popup-menu__item-content--selected":n.item.selected&&!i.lastChild,"popup-menu__item-content--last":i.lastChild})},[!n.item.parent_category&&!i.lastChild?(a(),c("img",Dt)):i.lastChild?(a(),c("span",Bt)):(a(),c("img",Ot)),s("h3",null,_(n.item.title),1),!i.lastChild&&(n.item.children.length||!n.item.parent_category)?(a(),c("div",Et,[s("h3",null,_(n.item.allPositions),1),Vt])):i.lastChild?(a(),c("div",jt,Wt)):S("",!0)],2),(a(!0),c(b,null,$(i.nextItemRender,u=>L((a(),w(l,{key:u.title,item:u,confirm:n.confirm},null,8,["item","confirm"])),[[N,n.item.selected]])),128))])]),_:1})}var Qt=v(It,[["render",zt]]);const Ft={name:"MenuPopupTree",components:{MenuPopupItem:Qt},props:{list:Array,confirm:Function}},Kt={class:"popup-menu__list"};function Yt(e,t,n,r,o,i){const l=f("menu-popup-item");return a(),c("ul",Kt,[(a(!0),c(b,null,$(n.list,u=>(a(),w(l,{key:u.title,item:u,confirm:n.confirm},null,8,["item","confirm"]))),128))])}var Jt=v(Ft,[["render",Yt]]);const Gt={name:"RadioPicker",emits:{"update:modelValue":null},props:{childs:Array,name:String,modelValue:String},methods:{selectedHandle(){this.$emit("update:modelValue",this.modelValue)}}},Xt={class:"picker__list"},Zt={class:"picker__label"},es=["name","value"],ts=s("span",{class:"picker__marker picker__marker--radio"},null,-1);function ss(e,t,n,r,o,i){return a(),c("ul",Xt,[s("h3",null,[T(e.$slots,"title")]),(a(!0),c(b,null,$(n.childs,l=>(a(),c("li",{key:l.title,class:"picker__item"},[s("label",Zt,[L(s("input",{name:n.name,value:l.title,"onUpdate:modelValue":t[0]||(t[0]=u=>n.modelValue=u),type:"radio",onChange:t[1]||(t[1]=(...u)=>i.selectedHandle&&i.selectedHandle(...u))},null,40,es),[[te,n.modelValue]]),ts,T(e.$slots,"default",{child:l},()=>[s("p",null,_(l.title),1)])])]))),128))])}var ns=v(Gt,[["render",ss]]);const is={name:"CheckboxPicker",props:{childs:Array},methods:{quantityHandle(e){e.selected&&e.quantity==0&&(e.quantity=1)}}},os={class:"picker__list"},as={class:"picker__label"},ls=["onUpdate:modelValue","onChange"],rs=s("span",{class:"picker__marker picker__marker--checkbox"},null,-1);function cs(e,t,n,r,o,i){return a(),c("ul",os,[s("h3",null,[T(e.$slots,"title")]),(a(!0),c(b,null,$(n.childs,l=>(a(),c("li",{key:l.title,class:"picker__item"},[s("label",as,[L(s("input",{"onUpdate:modelValue":u=>l.selected=u,onChange:u=>i.quantityHandle(l),type:"checkbox"},null,40,ls),[[se,l.selected]]),rs,T(e.$slots,"default",{child:l},()=>[s("p",null,_(l.title),1)])])]))),128))])}var us=v(is,[["render",cs]]),Q="/pilsner/assets/spicy.be8e3f9b.svg",q="/pilsner/assets/vegan.0c78abb6.svg";const ds={name:"PositionMenu",components:{RadioPicker:ns,CheckboxPicker:us,Popup:P},props:{item:Object,close:Function},preventQuantity:void 0,data(){return{meal:{name:"",price:750,quantity:1},fullDescription:!1,radioPickerList:[{title:"\u041E\u0441\u043D\u043E\u0432\u0430 \u043D\u0430 \u0432\u044B\u0431\u043E\u0440",name:"main",selected:"\u0420\u0438\u0441",childs:[{title:"\u0420\u0438\u0441",price:"0"},{title:"\u0420\u0438\u0441\u043E\u0432\u0430\u044F \u041B\u0430\u043F\u0448\u0430",price:"0"},{title:"\u041F\u0448\u0435\u043D\u0438\u0447\u043D\u0430\u044F \u041B\u0430\u043F\u0448\u0430",price:"0"}]},{title:"\u041D\u0430\u0447\u0438\u043D\u043A\u0430 \u043D\u0430 \u0432\u044B\u0431\u043E\u0440",name:"inner",selected:"\u041A\u0443\u0440\u0438\u0446\u0430",childs:[{title:"\u041A\u0443\u0440\u0438\u0446\u0430",price:"50"},{title:"\u0421\u0432\u0438\u043D\u0438\u043D\u0430",price:"70"},{title:"\u0413\u043E\u0432\u044F\u0434\u0438\u043D\u0430",price:"100"},{title:"\u041A\u0440\u0435\u0432\u0435\u0442\u043A\u0438",price:"150"},{title:"\u041E\u0432\u043E\u0449\u0438",price:"0"}]}],checkboxPicker:{title:"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u044B\u0435 \u0438\u043D\u0433\u0440\u0438\u0434\u0438\u0435\u043D\u0442\u044B \u043D\u0430 \u0432\u044B\u0431\u043E\u0440",childs:[{title:"\u041A\u0443\u0440\u0438\u0446\u0430",selected:!1,quantity:0,price:"100"},{title:"\u0421\u0432\u0438\u043D\u0438\u043D\u0430",selected:!1,quantity:0,price:"70"},{title:"\u0413\u043E\u0432\u044F\u0434\u0438\u043D\u0430",selected:!1,quantity:0,price:"100"},{title:"\u041A\u0440\u0435\u0432\u0435\u0442\u043A\u0438",selected:!1,quantity:0,price:"150"}]},markerList:[{svgId:"vegan",title:"\u0432\u0435\u0433\u0430\u043D\u0441\u043A\u043E\u0435 \u0431\u043B\u044E\u0434\u043E, \u0431\u0435\u0437 \u0434\u043E\u0431\u0430\u0432\u043B\u0435\u043D\u0438\u044F \u0436\u0438\u0432\u043E\u0442\u043D\u043E\u0433\u043E \u043C\u0430\u0441\u043B\u0430"},{svgId:"spicy",title:"\u043E\u0441\u0442\u0440\u043E\u0435 \u0431\u043B\u044E\u0434\u043E"},{svgId:"kosh",title:"\u043A\u043E\u0448\u0435\u0440\u043D\u043E\u0435 \u0431\u043B\u044E\u0434\u043E"},{svgId:"halal",title:"\u0445\u0430\u043B\u044F\u043B\u044C\u043D\u043E\u0435 \u0431\u043B\u044E\u0434\u043E"}],energyValues:[{title:"\u042D\u043D\u0435\u0440\u0433. \u0446\u0435\u043D\u043D\u043E\u0441\u0442\u044C",value:"256,8 \u043A\u043A\u0430\u043B"},{title:"\u0411\u0435\u043B\u043A\u0438",value:"10,7\u0433"},{title:"\u0416\u0438\u0440\u044B",value:"8,4\u0433"},{title:"\u0423\u0433\u043B\u0435\u0432\u043E\u0434\u044B",value:"33\u0433"}]}},computed:{mealDescription(){var t,n;const e=(t=this.item.description)==null?void 0:t.split(/\s+/).splice(0,5).toString().replaceAll(/(?<!\ )\,(?<!\ )/gm," ");return this.fullDescription?(n=this.item)==null?void 0:n.description:(e==null?void 0:e.slice(0,-1))+"..."},isIos(){return/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase())}},methods:{changeQuantity(e,t,n=!1){n?t.toLowerCase().trim()=="plus"?e.count++:t.toLowerCase().trim()=="minus"&&e.count>1&&e.count--:t.toLowerCase().trim()=="plus"?e.quantity++:t.toLowerCase().trim()=="minus"&&e.quantity>1?e.quantity--:e.quantity==1&&(e.selected=!1)},toggleDescription(){this.fullDescription=!this.fullDescription},async markerPopupHandle(e){await this.$refs.markerPopup.open()},async energyPopupHandle(e){await this.$refs.energyPopup.open()}},watch:{item(){this.item.count=1,this.checkboxPicker.childs.map(e=>{e.quantity=0,e.selected=!1})}}},_s={class:"position-menu section"},ps={class:"position-menu__header"},ms=["src"],hs=s("img",{src:H,alt:""},null,-1),fs=[hs],gs={class:"btn--circle btn--white"},vs=["xlink:href"],bs=s("span",{class:"position-menu__promo-text"},"\u0410\u043A\u0446\u0438\u044F",-1),$s=M('<li class="menu-card__icons-item menu-card__icons-item--position"><img src="'+Q+'" alt=""></li><li class="menu-card__icons-item menu-card__icons-item--position"><img src="'+q+'" alt=""></li><li class="menu-card__icons-item menu-card__icons-item--position"><img src="'+q+'" alt=""></li>',3),ks=[$s],ys={class:"position-menu__main container"},ws=s("span",{class:"text-big-norm text-grey"},"\u0410\u0440\u0442. 157890",-1),Cs={class:"position-menu__title"},xs=["xlink:href"],Ls={class:"text-big-norm"},Ts=s("svg",{width:"6",height:"3",viewBox:"0 0 12 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M1 1L6 6L11 1",stroke:"#47474A","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),Ms={class:"text-big-norm"},Ps={class:"text-big-bold"},Us=s("span",{class:"text-big-middle"},"\u20BD",-1),Ss={class:"text-big-norm"},Hs={class:"text-big-bold"},qs=s("span",{class:"text-big-middle"},"\u20BD",-1),Rs={class:"menu-card__quantity menu-card__quantity--position-menu"},Is=y("-"),As={class:"menu-card__quantity-count"},Ds=y("+"),Os={class:"position-menu__footer"},Bs={class:"position-menu__total-price"},Es=s("div",{class:"position-menu__name"},[s("span",{class:"text-big-bold"},"\u0412\u043E\u043A"),s("span",{class:"text-big-middle text-grey"},"450 \u0433")],-1),Vs={class:"text-accent text-accent-childs"},js=s("span",{class:"currency"},"\u20BD",-1),Ns=s("p",{class:"text-med-norm text-grey"},"\u0420\u0438\u0441\u043E\u0432\u0430\u044F \u043B\u0430\u043F\u0448\u0430, \u043A\u0440\u0435\u0432\u0435\u0442\u043A\u0438, \u043A\u0443\u0440\u0438\u0446\u0430",-1),Ws={class:"position-menu__footer-action"},zs={class:"menu-card__quantity menu-card__quantity--position-menu"},Qs=y(" - "),Fs={class:"text-big-bold"},Ks=y(" + "),Ys=y("\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C"),Js=s("span",{class:"text-tabs-active"},"\u041C\u0430\u0440\u043A\u0438\u0440\u043E\u0432\u043A\u0430 \u0431\u043B\u044E\u0434\u0430",-1),Gs={class:"popup-marker__list"},Xs={class:"popup-marker__icon"},Zs=["xlink:href"],en={class:"text-big-norm"},tn=["onClick"],sn=s("span",{class:"text-tabs-active"},"\u041F\u0438\u0449\u0435\u0432\u0430\u044F \u0446\u0435\u043D\u043D\u043E\u0441\u0442\u044C \u0431\u043B\u044E\u0434\u0430 \u043D\u0430 100 \u0433.",-1),nn={class:"popup-marker__list"},on={class:"text-big-bold"},an={class:"popup-marker__item popup-marker__item--weight"},ln=s("span",{class:"text-big-norm"},"\u0412\u0435\u0441",-1),rn={class:"text-big-bold"},cn=["onClick"];function un(e,t,n,r,o,i){const l=f("radio-picker"),u=f("c-button"),p=f("checkbox-picker"),x=f("popup");return a(),c("section",_s,[s("header",ps,[s("img",{ref:"positionImage",src:n.item.image||e.$getURL("/img/picture/not-photo.jpg"),alt:"",class:"position-menu__img"},null,8,ms),s("div",{class:k({"position-menu__actions container":!0,"position-menu__actions--ios":i.isIos})},[s("button",{onClick:t[0]||(t[0]=(...d)=>n.close&&n.close(...d)),class:"btn--circle btn--white"},fs),s("button",gs,[(a(),c("svg",null,[s("use",{"xlink:href":e.$getURL("/pwa/icons/nav-pack.svg#cart")},null,8,vs)]))])],2),bs,s("ul",{onClick:t[1]||(t[1]=(...d)=>i.markerPopupHandle&&i.markerPopupHandle(...d)),class:"menu-card__icons-list menu-card__icons-list--position"},ks)]),s("main",ys,[ws,s("div",Cs,[s("h2",null,_(n.item.title||"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0431\u043B\u044E\u0434\u0430"),1),(a(),c("svg",{onClick:t[2]||(t[2]=(...d)=>i.energyPopupHandle&&i.energyPopupHandle(...d)),class:"position-menu__title-info"},[s("use",{"xlink:href":e.$getURL("/pwa/icons/nav-pack.svg#info")},null,8,xs)]))]),s("p",Ls,_(i.mealDescription),1),s("button",{onClick:t[3]||(t[3]=(...d)=>i.toggleDescription&&i.toggleDescription(...d)),class:k({"btn--clear text-accent-childs position-menu__read-more":!0,"position-menu__read-more--opened":this.fullDescription})},[s("span",null,_(o.fullDescription?"\u0417\u0430\u043A\u0440\u044B\u0442\u044C":"\u0427\u0438\u0442\u0430\u0442\u044C \u0432\u0441\u0435"),1),Ts],2),(a(!0),c(b,null,$(o.radioPickerList,d=>(a(),w(l,{key:d.title,name:d.name,modelValue:d.selected,"onUpdate:modelValue":g=>d.selected=g,childs:d.childs},{title:m(()=>[y(_(d.title),1)]),default:m(({child:g})=>[s("div",{class:k({picker__between:!0,"picker--selected":d.selected==g.title})},[s("p",Ms,_(g.title),1),s("span",Ps,[y(" +"+_(g.price)+" ",1),Us])],2)]),_:2},1032,["name","modelValue","onUpdate:modelValue","childs"]))),128)),h(p,{childs:o.checkboxPicker.childs},{title:m(()=>[y(_(o.checkboxPicker.title),1)]),default:m(({child:d})=>[s("div",{class:k({"picker__checkbox-content":!0,"picker--selected":d.selected})},[s("p",Ss,_(d.title),1),s("span",Hs,[y(" +"+_(d.price*d.quantity||d.price)+" ",1),qs]),L(s("div",Rs,[h(u,{onClick:g=>i.changeQuantity(d,"minus"),class:"btn btn--outline"},{default:m(()=>[Is]),_:2},1032,["onClick"]),s("span",As,_(d.quantity),1),h(u,{onClick:g=>i.changeQuantity(d,"plus"),class:"btn btn--outline"},{default:m(()=>[Ds]),_:2},1032,["onClick"])],512),[[N,d.selected]])],2)]),_:1},8,["childs"])]),s("footer",Os,[s("div",Bs,[Es,s("h3",Vs,[y("+"+_(n.item.price*n.item.count||n.item.price)+" ",1),js])]),Ns,s("div",Ws,[s("div",zs,[h(u,{onClick:t[4]||(t[4]=d=>i.changeQuantity(n.item,"minus",!0)),class:"btn btn--outline-grey",blocked:n.item.count==1},{default:m(()=>[Qs]),_:1},8,["blocked"]),s("span",Fs,_(n.item.count),1),h(u,{onClick:t[5]||(t[5]=d=>i.changeQuantity(n.item,"plus",!0)),class:"btn btn--outline-grey"},{default:m(()=>[Ks]),_:1})]),h(u,{class:"btn"},{default:m(()=>[Ys]),_:1})])]),h(x,{class:"popup--marker",ref:"markerPopup"},{main:m(()=>[Js]),footer:m(({confirm:d})=>[s("ul",Gs,[(a(!0),c(b,null,$(o.markerList,g=>(a(),c("li",{key:g.title,class:"popup-marker__item"},[(a(),c("svg",Xs,[s("use",{"xlink:href":e.$getURL(`/pwa/icons/marker-pack.svg#${g.svgId}`)},null,8,Zs)])),s("span",en,_(g.title),1)]))),128))]),s("button",{onClick:d,class:"btn btn--primary"},"\u041F\u043E\u043D\u044F\u0442\u043D\u043E",8,tn)]),_:1},512),h(x,{class:"popup--energy",ref:"energyPopup"},{main:m(()=>[sn]),footer:m(({confirm:d})=>[s("ul",nn,[(a(!0),c(b,null,$(o.energyValues,(g,R)=>(a(),c("li",{key:g.title,class:"popup-marker__item"},[s("span",{class:k([R==0?"text-big-bold":"text-big-norm"])},_(g.title),3),s("span",on,_(g.value),1)]))),128)),s("li",an,[ln,s("span",rn,_(n.item.weight),1)])]),s("button",{onClick:d,class:"btn btn--primary"},"\u041F\u043E\u043D\u044F\u0442\u043D\u043E",8,cn)]),_:1},512)])}var dn=v(ds,[["render",un]]),_n="/pilsner/assets/more.9024127f.svg",pn="/pilsner/assets/special-board.04dd8a5b.jpg";const mn={name:"MenuSpecial",data(){return{}}},hn={class:"menu-special"},fn=M('<div class="container"><div class="menu-special__title"><h2>\u0410\u043A\u0446\u0438\u0438</h2><img class="menu-special__more" src="'+_n+'" alt=""></div><div class="menu-special__board"><img class="menu-special__bg" src="'+pn+'" alt=""><div class="menu-special__text text-white-childs"><h3>\u0421\u043A\u0438\u0434\u043A\u0430 -20% \u043D\u0430 \u0434\u043E\u0441\u0442\u0430\u0432\u043A\u0443</h3><p class="text-small"> \u041E\u0447\u0435\u043D\u044C \u0432\u044B\u0433\u043E\u0434\u043D\u043E\u0435 \u043F\u0440\u0435\u0434\u043B\u043E\u0436\u0435\u043D\u0438\u0435. \u0422\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u0432\u0430\u0441 \u0438 \u0442\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u0433\u043E\u0434\u043D\u044F. \u041D\u0435 \u043F\u0440\u043E\u043F\u0443\u0441\u0442\u0438\u0442\u0435! </p></div></div></div>',1),gn=[fn];function vn(e,t,n,r,o,i){return a(),c("div",hn,gn)}var bn=v(mn,[["render",vn]]),$n="/pilsner/assets/info.cd37849b.svg";const kn={name:"MenuCard",props:{card:Object},computed:{formatedWeight(){var e;return((e=this.card.weight)==null?void 0:e.search(/(г|кг|мл|л)\.?/gmi))==-1?this.card.weight+" \u0433.":this.card.weight}},methods:{changeQuantity(e,t){t.toLowerCase().trim()=="plus"?e.quantity++:t.toLowerCase().trim()=="minus"&&e.quantity&&e.quantity--},openDetail(){this.$emit("openDetail")}}},yn={key:0,class:"menu-card__item"},wn={key:0,class:"menu-card__promo-text"},Cn={alt:"position",class:"menu-card__img"},xn=M('<div class="menu-card__icons"><img src="'+$n+'" alt="" class="menu-card__info"><ul class="menu-card__icons-list"><li class="menu-card__icons-item"><img src="'+Q+'" alt=""></li><li class="menu-card__icons-item"><img src="'+q+'" alt=""></li><li class="menu-card__icons-item"><img src="'+q+'" alt=""></li></ul></div>',1),Ln={class:"menu-card__footer"},Tn={class:"menu-card__text"},Mn={key:0,class:"text-med-norm text-primary-light"},Pn={key:1,class:"text-med-norm text-primary-light menu-card__quantity-text"},Un={class:"text-med-bold text-accent"},Sn=s("h3",{class:"text-white"},"545 \u20BD",-1),Hn={key:1,class:"menu-card__quantity"},qn=y("-"),Rn={class:"menu-card__quantity-count"},In=y("+");function An(e,t,n,r,o,i){const l=f("c-button"),u=A("lazy");return n.card?(a(),c("li",yn,[s("div",{onClick:t[0]||(t[0]=(...p)=>i.openDetail&&i.openDetail(...p)),class:"menu-card__header"},[n.card.promo?(a(),c("span",wn,"\u0410\u043A\u0446\u0438\u044F")):S("",!0),L(s("img",Cn,null,512),[[u,n.card.image||e.$getURL("/img/picture/not-photo.jpg")]]),xn]),s("div",Ln,[s("div",Tn,[s("h4",null,_(n.card.title),1),n.card.quantity==null?(a(),c("span",Mn,_(i.formatedWeight),1)):(a(),c("p",Pn,[s("span",Un,_(n.card.price)+" \u20BD",1),s("span",null,"/ "+_(i.formatedWeight),1)]))]),n.card.quantity==null?(a(),w(l,{key:0,class:"btn"},{default:m(()=>[Sn]),_:1})):(a(),c("div",Hn,[h(l,{onClick:t[1]||(t[1]=p=>i.changeQuantity(n.card,"minus")),class:"btn"},{default:m(()=>[qn]),_:1}),s("span",Rn,_(n.card.quantity),1),h(l,{onClick:t[2]||(t[2]=p=>i.changeQuantity(n.card,"plus")),class:"btn"},{default:m(()=>[In]),_:1})]))])])):S("",!0)}var Dn=v(kn,[["render",An]]);const On={name:"MenuCards",components:{MenuCard:Dn},props:{cards:Object}},Bn={class:"menu-card"},En={class:"menu-card__list"};function Vn(e,t,n,r,o,i){const l=f("menu-card");return a(),c("li",Bn,[s("h1",null,_(n.cards.title),1),s("ul",En,[(a(!0),c(b,null,$(n.cards.positions,u=>(a(),w(l,{card:u,onOpenDetail:p=>e.$emit("openDetail",u),class:"menu-card__item"},null,8,["card","onOpenDetail"]))),256))])])}var jn=v(On,[["render",Vn]]),Nn="/pilsner/assets/more-tabs.a8f0058a.svg";const Wn={name:"MenuTabs",components:{Popup:P},props:{tabs:Array,isMarket:Boolean},emits:{selTabHandle:null,fullMenuPopupHandle:null},mounted(){this.changeOnScroll(),window.addEventListener("scroll",this.scrollHandle,{passive:!0})},beforeUnmount(){window.removeEventListener("scroll",this.scrollHandle)},data(){return{lastCur:""}},computed:{tabsListWidth(){return this.$refs.tabList.clientWidth}},methods:{selTab(e){this.tabs.map(t=>t.selected=!1),e.selected=!0,this.$emit("selTabHandle",e)},scrollHandle(){this.changeOnScroll();const e=this.$refs.tabList.children,t=document.querySelectorAll("li.menu-card");let n=window.pageYOffset+123+40,r=[...t].filter(i=>i.offsetTop<n),o=r[r.length-1].id;if(this.lastCur!==o){this.lastCur=o;const i=document.querySelector(`li[data-link="${o}"]`);for(let l of e)l.classList.remove("menu-tab__item--active");i==null||i.classList.add("menu-tab__item--active"),(i.offsetLeft>this.tabsListWidth||i.offsetLeft<this.tabsListWidth+i.offsetParent.scrollLeft)&&i.offsetParent.scrollTo({behavior:"smooth",top:0,left:i.offsetLeft}),r=[]}},changeOnScroll(){this.isMarket&&(document.documentElement.scrollTop>=250?(document.querySelector(".menu-sheets__cards").classList.add("menu-sheets__cards--fixed-tabs"),this.$el.classList.add("menu-tab--fixed")):(document.querySelector(".menu-sheets__cards").classList.remove("menu-sheets__cards--fixed-tabs"),this.$el.classList.remove("menu-tab--fixed")))},fullMenuPopupHandle(){this.$emit("fullMenuPopupHandle")}}},zn={class:"menu-tab"},Qn={class:"menu-tab__list",ref:"tabList"},Fn=["data-link","onClick"];function Kn(e,t,n,r,o,i){return a(),c("div",zn,[s("img",{onClick:t[0]||(t[0]=(...l)=>i.fullMenuPopupHandle&&i.fullMenuPopupHandle(...l)),src:Nn,alt:"more",class:"menu-tab__more-tabs"}),s("ul",Qn,[(a(!0),c(b,null,$(n.tabs,l=>(a(),c("li",{class:k(["menu-tab__item","text-tabs-norm",l.selected?"menu-tab__item--active":""]),"data-link":e.$globalLink(l.title),onClick:u=>i.selTab(l)},_(l.title),11,Fn))),256))],512)])}var Yn=v(Wn,[["render",Kn]]);const Jn={name:"NavBar",data(){return{navs:[{svgId:"dashboard",selected:!1,title:"\u041C\u0435\u043D\u044E"},{svgId:"info",selected:!1,title:"\u0423\u0441\u043B\u043E\u0432\u0438\u044F"},{svgId:"menu",selected:!0,title:"\u041A\u0430\u0442\u0430\u043B\u043E\u0433"},{svgId:"delivery",selected:!1,title:"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430"},{svgId:"cart",selected:!1,title:"\u041A\u043E\u0440\u0437\u0438\u043D\u0430"}]}},computed:{isIos(){return/iphone|ipad|ipod/.test(window.navigator.userAgent.toLowerCase())}},methods:{selNav(e){this.navs.map(t=>t.selected=!1),this.$router.push({name:e.svgId}),e.selected=!0}}},Gn={class:"nav-bar__list"},Xn=["onClick"],Zn={class:"nav-bar__icon"},ei=["xlink:href"],ti={class:"text-small-menu"};function si(e,t,n,r,o,i){return a(),c("nav",{class:k({"nav-bar":!0,"nav-bar--ios":i.isIos})},[s("ul",Gn,[(a(!0),c(b,null,$(o.navs,l=>(a(),c("li",{class:k({"nav-bar__item":!0,"nav-bar__item--selected":l.selected}),onClick:u=>i.selNav(l)},[(a(),c("svg",Zn,[s("use",{"xlink:href":e.$getURL(`/pwa/icons/nav-pack.svg#${l.svgId}`)},null,8,ei)])),s("span",ti,_(l.title),1)],10,Xn))),256))])],2)}var ni=v(Jn,[["render",si]]),ii="/pilsner/assets/prize.f1c84496.svg",oi="/pilsner/assets/search.fdf77fe3.svg",ai="/pilsner/assets/crossline.e50af867.svg",li="/pilsner/assets/reload.9a81db51.svg";const ri={name:"MenuSheets",components:{MenuPopupTree:Jt,PositionMenu:dn,MenuSpecial:bn,MenuCards:jn,MenuTabs:Yn,NavBar:ni,Popup:P},mounted(){},props:{isMarket:Boolean},beforeUnmounted(){document.body.removeAttribute("style")},data(){return{selItem:{}}},computed:I({},ne({menuTreeList:"getMenuTree"})),methods:{selHandle({title:e}){const t=document.querySelector(`li#${this.$globalLink(e)}`);window.scrollTo({behavior:"smooth",top:(t==null?void 0:t.offsetTop)-40,left:0})},selMenuHandle(e){setTimeout(()=>{const t=n=>{n.map(r=>{r.selected=!1,r.childs&&t(r.childs)})};t(this.menuTreeList)},500),this.selHandle(e)},animateReload(e){e.target.classList.contains("popup-menu__reload--pressed")||(e.target.classList.add("popup-menu__reload--pressed"),setTimeout(()=>e.target.classList.remove("popup-menu__reload--pressed"),300))},async openDetail(e){this.selItem=e,document.body.style.background=`url(${this.$refs.position.$refs.positionImage.src}) no-repeat`,await this.$refs.positionMenu.open()&&document.body.removeAttribute("style")},async fullMenuPopupHandle(){const e=await this.$refs.fullMenuPopup.open();e&&this.selMenuHandle(e)}}},ci=M('<header class="menu-sheets__header"><div class="container"><div class="menu-sheets__address"><h2 class="text-big-middle"> \u0422\u0435\u043A\u0443\u0449\u0438\u0439 \u0430\u0434\u0440\u0435\u0441 </h2><img src="'+H+'" alt=""></div><div class="menu-sheets__actions"><img src="'+ii+'" alt=""><img src="'+oi+'" alt=""></div></div></header>',1),ui={class:"menu-sheets__main"},di={class:"menu-sheets__menu menu-sheets__menu"},_i={class:"container"},pi={class:"menu-sheets__cards"},mi={class:"popup-menu__header"},hi=["onClick"],fi=s("h3",null,"\u041D\u0430\u0448\u0435 \u041C\u0415\u041D\u042E",-1);function gi(e,t,n,r,o,i){const l=f("menu-special"),u=f("menu-tabs"),p=f("menu-cards"),x=f("nav-bar"),d=f("menu-popup-tree"),g=f("popup"),R=f("position-menu");return a(),c("section",{class:k({"menu-sheets section":!0,"menu-sheets--market":n.isMarket})},[ci,s("main",ui,[n.isMarket?(a(),w(l,{key:0})):S("",!0),s("div",di,[s("div",_i,[h(u,{isMarket:n.isMarket,tabs:this.$store.getters.getTabs,onSelTabHandle:i.selHandle,onFullMenuPopupHandle:i.fullMenuPopupHandle},null,8,["isMarket","tabs","onSelTabHandle","onFullMenuPopupHandle"]),s("ul",pi,[(a(!0),c(b,null,$(this.$store.getters.getCards,C=>(a(),w(p,{onOpenDetail:i.openDetail,cards:C,id:this.$globalLink(C.title)},null,8,["onOpenDetail","cards","id"]))),256))])])])]),s("footer",null,[h(x)]),h(g,{ref:"fullMenuPopup"},{main:m(({close:C})=>[s("div",mi,[s("img",{onClick:O=>C(!1),src:ai,alt:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C"},null,8,hi),fi,s("img",{onClick:t[0]||(t[0]=(...O)=>i.animateReload&&i.animateReload(...O)),class:"popup-menu__reload",src:li,alt:"\u041F\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C"})])]),footer:m(({confirm:C})=>[h(d,{list:e.menuTreeList,confirm:C},null,8,["list","confirm"])]),_:1},512),h(g,{class:"popup-position",ref:"positionMenu",swipeHide:""},{footer:m(({confirm:C})=>[h(R,{ref:"position",item:o.selItem,close:C},null,8,["item","close"])]),_:1},512)],2)}var U=v(ri,[["render",gi]]);const vi=[{path:"/",name:"index",component:Ge},{path:"/dashboard",name:"dashboard",component:Ht},{path:"/menu",name:"menu",component:U,meta:{transition:"none"}},{path:"/menu-market",name:"menu-market",component:U,props:{isMarket:!0},meta:{transition:"none"}},{path:"/delivery",name:"delivery",component:U},{path:"/cart",name:"cart",component:U},{path:"/info",name:"info",component:U},{path:"/:pathMatch(.*)*",redirect:{name:"index"}}],bi=ie({history:oe("/pilsner/"),routes:vi,scrollBehavior(){return{top:0}}});var $i={install:e=>{e.config.globalProperties.$getURL=t=>"/pilsner/"+(t.startsWith("/")?t.slice(1):t)}},ki={install:e=>{e.config.globalProperties.$globalLink=t=>t==null?void 0:t.toLowerCase().trim().replaceAll(" ","_")}};function yi(e={}){const{immediate:t=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:o,onRegisterError:i}=e;let l;const u=async(p=!0)=>{};return"serviceWorker"in navigator&&(l=new ae("/pilsner/sw.js",{scope:"/pilsner/",type:"classic"}),l.addEventListener("activated",p=>{p.isUpdate?window.location.reload():r==null||r()}),l.register({immediate:t}).then(p=>{o==null||o(p)}).catch(p=>{i==null||i(p)})),u}yi({onRegistered(e){e.update(),e&&setInterval(()=>{e.update()},60*60*1e3)}});le(xe).use(bi).use(He).use($i).use(ki).use(re).use(ce).component("CButton",Me).mount("#app");
