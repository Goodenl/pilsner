import{r as d,a as L,w as T,o as p,c as _,b as s,d as v,e as u,f as m,g as S,n as w,h as E,F as f,T as B,i as P,j as O,V as A,k as $,l as b,t as y,m as D,p as V,v as j,s as H,q as N,u as W}from"./vendor.44cb18f7.js";const q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function c(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(o){if(o.ep)return;o.ep=!0;const n=c(o);fetch(o.href,n)}};q();var h=(e,t)=>{const c=e.__vccOpts||e;for(const[r,o]of t)c[r]=o;return c};const z={name:"Popup",currentPopupController:null,props:{draggable:Boolean,blockedScreen:Boolean,swipeHide:Boolean},mounted(){document.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)},data(){return{show:!1}},methods:{swipeHandler(e,t){t.stopImmediatePropagation(),this.swipeHide&&t.currentTarget.scrollTop==0&&t.cancelable&&this.close()},handleKeydown(e){this.show&&e.key==="Escape"&&this.close()},open(){let e,t;const c=new Promise((r,o)=>{e=r,t=o});return this.$options.currentPopupController={resolve:e,reject:t},this.show=!0,c},confirm(e=!0){this.$options.currentPopupController.resolve(e),this.show=!1},close(e=!1){this.blockedScreen||(this.$options.currentPopupController.resolve(e),this.show=!1)}},watch:{show(e){e?(document.body.style.overflowY!="hidden"&&(document.body.style.overflowY="hidden"),this.$refs.popup&&(this.$refs.popup.style.visibility="visible")):(document.body.style.overflowY="auto",setTimeout(()=>{this.$refs.popup&&(this.$refs.popup.style.visibility="hidden")},350))}}},I={class:"popup__wrap"},K={class:"popup__content"},F={class:"popup__footer"},Y=E("\u0417\u0430\u043A\u0440\u044B\u0442\u044C");function J(e,t,c,r,o,n){const i=d("c-button"),l=L("touch");return T((p(),_("div",{onClick:t[0]||(t[0]=S(a=>n.close(!1),["self"])),ref:"popup",class:w({popup:!0,"popup--show":o.show,"popup--draggable":c.draggable})},[s("div",I,[s("div",K,[v(e.$slots,"main",{confirm:n.confirm,close:n.close})]),s("footer",F,[v(e.$slots,"footer",{confirm:n.confirm,close:n.close},()=>[u(i,{onClick:n.confirm,class:"btn"},{default:m(()=>[Y]),_:1},8,["onClick"])])])])],2)),[[l,n.swipeHandler,"swipe",{bottom:!0}]])}var U=h(z,[["render",J]]),G="/pilsner/pwa/icons/offline.svg";const Q={name:"App",components:{Popup:U},mounted(){navigator.onLine?(window.addEventListener("offline",this.handleConnection),window.addEventListener("online",this.handleConnection)):setTimeout(this.openOfflinePopup,500)},beforeUnmount(){window.removeEventListener("offline",this.handleConnection),window.removeEventListener("online",this.handleConnection)},methods:{async openOfflinePopup(){await this.$refs.offlinePopup.open()},handleConnection(){navigator.onLine?this.offlinePopup=!1:this.openOfflinePopup()}}},X=s("img",{src:G,alt:"",class:"offline__icon"},null,-1),Z=s("h3",{class:"offline__warning"},"\u0412\u043D\u0438\u043C\u0430\u043D\u0438\u0435!",-1),ee=s("h2",null,"\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442 \u0432 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043E\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u0435\u0442",-1),te=s("p",{class:"offline__text"},"\u0414\u043E \u043F\u043E\u044F\u0432\u043B\u0435\u043D\u0438\u044F \u0441\u0432\u044F\u0437\u0438 \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u043D\u0430 \u0440\u0430\u043D\u0435\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u043E\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0430 \u0438\u043B\u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0437\u0436\u0435.",-1),se=["onClick"];function oe(e,t,c,r,o,n){const i=d("router-view"),l=d("popup");return p(),_(f,null,[u(i,null,{default:m(({Component:a,route:k})=>[u(B,{name:k.meta.transition||"fade"},{default:m(()=>[(p(),P(O(a)))]),_:2},1032,["name"])]),_:1}),u(l,{class:"popup--offline",ref:"offlinePopup",draggable:""},{main:m(()=>[X,Z,ee,te]),footer:m(({confirm:a})=>[s("button",{onClick:a,class:"btn btn--primary"},"\u041F\u043E\u043D\u044F\u0442\u043D\u043E",8,se)]),_:1},512)],64)}var ne=h(Q,[["render",oe]]);const ie={name:"CButton",data(){return{timeout:null}},methods:{tapHandler({currentTarget:e}){e.classList.add("btn--pressed"),this.timeout==null?this.timeout=setTimeout(()=>{e.classList.remove("btn--pressed"),clearTimeout(this.timeout)},600):(clearTimeout(this.timeout),this.timeout=setTimeout(()=>{e.classList.remove("btn--pressed"),clearTimeout(this.timeout)},600))}}};function re(e,t,c,r,o,n){const i=L("touch");return T((p(),_("button",null,[v(e.$slots,"default")])),[[i,n.tapHandler,"tap"]])}var ae=h(ie,[["render",re]]),le={state:{TM:JSON.parse(localStorage.getItem("TM"))||"\u041F\u0438\u043B\u0437\u043D\u0435\u0440"},getters:{getTM(e){return e.TM}},mutations:{setTM(e,t){localStorage.setItem("TM",JSON.stringify(t)),e.TM=t}}},ce=new A.Store({modules:{tm:le}});const pe="modulepreload",M={},_e="/pilsner/",C=function(t,c){return!c||c.length===0?t():Promise.all(c.map(r=>{if(r=`${_e}${r}`,r in M)return;M[r]=!0;const o=r.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${r}"]${n}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":pe,o||(i.as="script",i.crossOrigin=""),i.href=r,document.head.appendChild(i),o)return new Promise((l,a)=>{i.addEventListener("load",l),i.addEventListener("error",a)})})).then(()=>t())};var de="/pilsner/pwa/bg/loading-bg-top.webp",ue="/pilsner/pwa/bg/loading-bg-bottom.webp",me="/pilsner/pwa/icons/logo.svg";const he={name:"Loading",data(){return{loaded:!1}}},fe={class:"loading"},ge=$('<div class="loading__bg-box"><img class="loading__bg loading__bg--top" src="'+de+'" alt=""><img class="loading__bg loading__bg--bottom" src="'+ue+'" alt=""></div><div class="loading__info loading__info--loaded"><img class="loading__logo" src="'+me+'" alt=""><h2 class="text-white text-center text-huge">\u0414\u043E\u0431\u0440\u043E\u0435 \u0443\u0442\u0440\u043E,<br>\u0421\u0435\u0440\u0433\u0435\u0439</h2></div>',2),ve=[ge];function we(e,t,c,r,o,n){return p(),_("div",fe,ve)}var $e=h(he,[["render",we]]);const be={name:"TmPopup",props:{blockedScreen:Boolean},components:{Popup:U},data(){return{TMlist:[{imgUrl:this.$getURL("/pwa/icons/pilsner.svg"),title:"\u041F\u0438\u043B\u0437\u043D\u0435\u0440"},{imgUrl:this.$getURL("/pwa/icons/kozlovitsa.svg"),title:"\u041A\u043E\u0437\u043B\u043E\u0432\u0438\u0446\u0430"},{imgUrl:this.$getURL("/pwa/icons/kozlovna.svg"),title:"\u041A\u043E\u0437\u043B\u043E\u0432\u043D\u0430"}]}},methods:{async openTMPopup(){const e=await this.$refs.TMPopup.open();e&&(this.$store.commit("setTM",e),this.$router.push({name:"dashboard"}))}}},ye=s("span",{class:"text-tabs-active"},"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u0442\u044C \u0440\u0435\u0441\u0442\u043E\u0440\u0430\u043D\u043E\u0432",-1),ke={class:"popup-TM__list"},Le=["onClick"],Te=["src"],Pe={class:"text-big-norm"};function Ue(e,t,c,r,o,n){const i=d("popup");return p(),P(i,{blockedScreen:c.blockedScreen,ref:"TMPopup"},{main:m(()=>[ye]),footer:m(({confirm:l})=>[s("ul",ke,[(p(!0),_(f,null,b(o.TMlist,a=>(p(),_("li",{key:a.title,onClick:k=>l(a),class:"popup-TM__item"},[s("img",{src:a.imgUrl},null,8,Te),s("span",Pe,y(a.title),1)],8,Le))),128))])]),_:1},8,["blockedScreen"])}var x=h(be,[["render",Ue]]);const Me={name:"Index",components:{Loading:$e,TmPopup:x},created(){navigator.onLine&&setTimeout(async()=>await this.$refs.TMPopup.openTMPopup(),4e3)}};function Ce(e,t,c,r,o,n){const i=d("loading"),l=d("tm-popup");return p(),_("section",null,[u(i),u(l,{blockedScreen:"",ref:"TMPopup"},null,512)])}var xe=h(Me,[["render",Ce]]),Re="/pilsner/assets/drop-arrow.0b3fcd84.svg",Se="/pilsner/pwa/picture/panel-about.jpg",Ee="/pilsner/pwa/picture/panel-qr.svg",Be="/pilsner/pwa/icons/patch-prize.svg",Oe="/pilsner/pwa/icons/news-promo.svg",Ae="/pilsner/pwa/icons/pilsner-title.svg",R="/pilsner/pwa/icons/inst.svg",De="/pilsner/pwa/icons/kozlovna-title.svg";const Ve={name:"DashBoard",components:{TmPopup:x},data(){return{gridList:[{imgUrl:this.$getURL("/pwa/icons/time.svg"),title:"\u0411\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/my-orders.svg"),title:"\u041C\u043E\u0438 \u0437\u0430\u043A\u0430\u0437\u044B",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/lunch-gift.svg"),title:"\u041B\u0430\u043D\u0447-\u043A\u0430\u0440\u0442\u0430",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/lunch.svg"),title:"\u0411\u0438\u0437\u043D\u0435\u0441-\u043B\u0430\u043D\u0447",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/menu.svg"),title:"\u041C\u0435\u043D\u044E",link:{name:"menu"},classes:[null]},{imgUrl:this.$getURL("/pwa/icons/pickup.svg"),title:"\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437",link:{name:"menu-market"},classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/delivery-table.svg"),title:"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430 \u0434\u043E \u0441\u0442\u043E\u043B\u0430",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/marker.svg"),title:"\u0420\u0435\u0441\u0442\u043E\u0440\u0430\u043D\u044B",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/review.svg"),title:"\u041E\u0442\u0437\u044B\u0432",classes:["grid-panel__item--white","text-primary-childs"]},{imgUrl:this.$getURL("/pwa/icons/settings.svg"),title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",classes:["grid-panel__item--white","text-primary-childs"]}]}},methods:{openTMPopup(){this.$refs.TMPopup.openTMPopup()}}},je={class:"dashboard section"},He={class:"container"},Ne={class:"dashboard__wrap"},We={class:"dashboard__header"},qe={class:"container"},ze=s("img",{src:Re,alt:""},null,-1),Ie=[ze],Ke={class:"dashboard__main"},Fe={class:"panel__list"},Ye=$('<li class="panel__item"><img class="panel__bg" src="'+Se+'" alt=""><span class="title__about text-white">\u041E \u043D\u0430\u0441</span></li><li class="panel__item panel__item--primary"><div class="panel__wrap"><div class="panel__text text-white-childs"><h2>\u0411\u043E\u043D\u0443\u0441\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430</h2><p class="text-med-norm panel-bonus">\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E</p><span><h2>1280</h2><h4>\u0431\u043E\u043D\u0443\u0441\u043E\u0432</h4></span></div><img class="panel__qr" src="'+Ee+'" alt=""></div></li>',2),Je={class:"panel__item panel__item--accent"},Ge={class:"panel__wrap panel__wrap--p20"},Qe=s("img",{class:"panel__patch",src:Be,alt:""},null,-1),Xe={class:"panel__text text-white-childs"},Ze=s("h2",null,"\u041F\u0430\u0447 \u043A\u0430\u0440\u0442\u0430",-1),et=s("p",{class:"panel-patch"},"\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C",-1),tt={class:"panel__patch-list"},st=["src"],ot=s("li",{class:"panel__item"},[s("div",{class:"panel__wrap panel__wrap--news-promo"},[s("img",{src:Oe,alt:""}),s("h2",null,"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u0438 \u0430\u043A\u0446\u0438\u0438")])],-1),nt={class:"grid-panel__list text-white-childs"},it=["onClick"],rt={class:"grid-panel__img"},at=["src"],lt={class:"grid-panel__text"},ct={class:"text-big-bold"},pt=$('<footer class="dashboard__footer"><ul class="soc__list"><li class="soc__item"><img src="'+Ae+'" alt="" class="soc__title"><img src="'+R+'" alt="" class="soc__icon"></li><li class="soc__item"><img src="'+R+'" alt="" class="soc__icon"><img src="'+De+'" alt="soc" class="soc__title"></li></ul></footer>',1);function _t(e,t,c,r,o,n){const i=d("tm-popup");return p(),_("section",je,[s("div",He,[s("div",Ne,[s("header",We,[s("div",qe,[s("h1",null,y(e.$store.getters.getTM.title),1),s("div",{onClick:t[0]||(t[0]=(...l)=>n.openTMPopup&&n.openTMPopup(...l)),class:"dashboard__drop-arrow"},Ie)])]),s("main",Ke,[s("ul",Fe,[Ye,s("li",Je,[s("div",Ge,[Qe,s("div",Xe,[Ze,et,s("ul",tt,[(p(!0),_(f,null,b(Array(5),(l,a)=>(p(),_("li",{key:l,class:w({"panel__patch-item":!0,"panel__patch-item--has":a<=2})},[s("img",{src:a<=2?e.$getURL("/pwa/icons/patch-has.svg"):e.$getURL("/pwa/icons/patch.svg"),alt:""},null,8,st)],2))),128))])])])]),ot]),s("ul",nt,[(p(!0),_(f,null,b(o.gridList,l=>(p(),_("li",{key:l.title,class:w(["grid-panel__item",...l.classes]),onClick:a=>e.$router.push(l.link)},[s("div",rt,[s("img",{src:l.imgUrl,alt:""},null,8,at)]),s("div",lt,[s("p",ct,y(l.title),1)])],10,it))),128))])]),pt])]),u(i,{ref:"TMPopup"},null,512)])}var dt=h(Ve,[["render",_t]]);const g=()=>C(()=>import("./MenuSheets.2d4c2a26.js"),["assets/MenuSheets.2d4c2a26.js","assets/reload.41ccf9bc.js","assets/vendor.44cb18f7.js"]),ut=()=>C(()=>import("./MenuSheetsMarket.263b95e3.js"),["assets/MenuSheetsMarket.263b95e3.js","assets/reload.41ccf9bc.js","assets/vendor.44cb18f7.js"]),mt=[{path:"/",name:"index",component:xe},{path:"/dashboard",name:"dashboard",component:dt},{path:"/menu",name:"menu",component:g,meta:{transition:"none"}},{path:"/menu-market",name:"menu-market",component:ut},{path:"/delivery",name:"delivery",component:g},{path:"/cart",name:"cart",component:g},{path:"/info",name:"info",component:g},{path:"/:pathMatch(.*)*",redirect:{name:"index"}}],ht=D({history:V("/pilsner/"),routes:mt,scrollBehavior(){return{top:0}}});var ft={install:e=>{e.config.globalProperties.$getURL=t=>"/pilsner/"+(t.startsWith("/")?t.slice(1):t)}},gt={install:e=>{e.config.globalProperties.$globalLink=t=>t==null?void 0:t.toLowerCase().trim().replaceAll(" ","_")}};function vt(e={}){const{immediate:t=!1,onNeedRefresh:c,onOfflineReady:r,onRegistered:o,onRegisterError:n}=e;let i;const l=async(a=!0)=>{};return"serviceWorker"in navigator&&(i=new j("/pilsner/sw.js",{scope:"/pilsner/",type:"classic"}),i.addEventListener("activated",a=>{a.isUpdate?window.location.reload():r==null||r()}),i.register({immediate:t}).then(a=>{o==null||o(a)}).catch(a=>{n==null||n(a)})),l}vt({onRegistered(e){e.update(),e&&setInterval(()=>{e.update()},60*60*1e3)}});H.polyfill();N(ne).use(ht).use(ce).use(ft).use(gt).use(W).component("CButton",ae).mount("#app");export{U as P,h as _,C as a,Re as b};
