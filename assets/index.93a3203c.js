import{r as k,w as P,o as c,c as p,a as e,b,d as x,n as v,e as g,f as m,g as f,F as d,h as w,i as $,t as y,j as R,k as C,v as E,l as T,m as M}from"./vendor.eea20c18.js";const O=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const n of i.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function a(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerpolicy&&(i.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?i.credentials="include":s.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(s){if(s.ep)return;s.ep=!0;const i=a(s);fetch(s.href,i)}};O();var u=(t,o)=>{const a=t.__vccOpts||t;for(const[l,s]of o)a[l]=s;return a};const S={name:"Popup",currentPopupController:null,props:{draggable:Boolean,blockedScreen:Boolean},mounted(){document.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)},data(){return{show:!1}},methods:{swipeHandler(t,o){this.draggable&&(!o.target.closest(".popup__content")||o.cancelable)&&this.close()},handleKeydown(t){this.show&&t.key==="Escape"&&this.close()},open(){let t,o;const a=new Promise((l,s)=>{t=l,o=s});return this.$options.currentPopupController={resolve:t,reject:o},this.show=!0,a},confirm(t=!0){this.$options.currentPopupController.resolve(t),this.show=!1},close(t=!1){this.blockedScreen||(this.$options.currentPopupController.resolve(t),this.show=!1)}},watch:{show(t){t?(document.body.style.overflowY!="hidden"&&(document.body.style.overflowY="hidden"),this.$refs.popup&&(this.$refs.popup.style.visibility="visible")):(document.body.style.overflowY="auto",setTimeout(()=>{this.$refs.popup&&(this.$refs.popup.style.visibility="hidden")},350))}}},B={class:"popup__wrap"},N={class:"popup__content"},A={class:"popup__footer"};function j(t,o,a,l,s,i){const n=k("touch");return P((c(),p("div",{onClick:o[1]||(o[1]=x(r=>i.close(!1),["self"])),ref:"popup",class:v({popup:!0,"popup--show":s.show,"popup--draggable":a.draggable})},[e("div",B,[e("div",N,[b(t.$slots,"main")]),e("footer",A,[b(t.$slots,"footer",{confirm:i.confirm,close:i.close},()=>[e("button",{onClick:o[0]||(o[0]=(...r)=>i.confirm&&i.confirm(...r)),class:"btn"},"\u0417\u0430\u043A\u0440\u044B\u0442\u044C")])])])],2)),[[n,i.swipeHandler,"swipe",{bottom:!0}]])}var L=u(S,[["render",j]]),z="/pilsner/pwa/icons/offline.svg";const D={name:"App",components:{Popup:L},mounted(){navigator.onLine?(window.addEventListener("offline",this.handleConnection),window.addEventListener("online",this.handleConnection)):setTimeout(this.openOfflinePopup,500)},beforeUnmount(){window.removeEventListener("offline",this.handleConnection),window.removeEventListener("online",this.handleConnection)},methods:{async openOfflinePopup(){await this.$refs.offlinePopup.open()},handleConnection(){navigator.onLine?this.offlinePopup=!1:this.openOfflinePopup()}}},W=e("img",{src:z,alt:"",class:"offline__icon"},null,-1),K=e("h3",{class:"offline__warning"},"\u0412\u043D\u0438\u043C\u0430\u043D\u0438\u0435!",-1),q=e("h2",null,"\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442 \u0432 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043E\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u0435\u0442",-1),F=e("p",{class:"offline__text"},"\u0414\u043E \u043F\u043E\u044F\u0432\u043B\u0435\u043D\u0438\u044F \u0441\u0432\u044F\u0437\u0438 \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u043D\u0430 \u0440\u0430\u043D\u0435\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u043E\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0430 \u0438\u043B\u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0437\u0436\u0435.",-1),H=["onClick"];function V(t,o,a,l,s,i){const n=g("router-view"),r=g("popup");return c(),p(d,null,[m(n),m(r,{class:"popup--offline",ref:"offlinePopup",draggable:""},{main:f(()=>[W,K,q,F]),footer:f(({confirm:_})=>[e("button",{onClick:_,class:"btn btn--primary"},"\u041F\u043E\u043D\u044F\u0442\u043D\u043E",8,H)]),_:1},512)],64)}var Y=u(D,[["render",V]]),G="/pilsner/pwa/bg/loading-bg-top.webp",I="/pilsner/pwa/bg/loading-bg-bottom.webp",J="/pilsner/pwa/icons/logo.svg";const Q={name:"Loading",data(){return{loaded:!1}}},X={class:"loading"},Z=w('<div class="loading__bg-box"><img class="loading__bg loading__bg--top" src="'+G+'" alt=""><img class="loading__bg loading__bg--bottom" src="'+I+'" alt=""></div><div class="loading__info loading__info--loaded"><img class="loading__logo" src="'+J+'" alt=""><h2 class="text-white text-center text-huge">\u0414\u043E\u0431\u0440\u043E\u0435 \u0443\u0442\u0440\u043E,<br>\u0421\u0435\u0440\u0433\u0435\u0439</h2></div>',2),ee=[Z];function se(t,o,a,l,s,i){return c(),p("div",X,ee)}var te=u(Q,[["render",se]]);const oe={name:"Index",components:{Loading:te,Popup:L},created(){navigator.onLine&&setTimeout(this.openTMPopupPopup,4e3)},data(){return{TMlist:[{imgUrl:this.$getURL("/pwa/icons/pilsner.svg"),title:"\u041F\u0438\u043B\u0437\u043D\u0435\u0440"},{imgUrl:this.$getURL("/pwa/icons/kozlovitsa.svg"),title:"\u041A\u043E\u0437\u043B\u043E\u0432\u0438\u0446\u0430"},{imgUrl:this.$getURL("/pwa/icons/kozlovna.svg"),title:"\u041A\u043E\u0437\u043B\u043E\u0432\u043D\u0430"}]}},methods:{async openTMPopupPopup(){await this.$refs.TMPopup.open()&&this.$router.push({name:"dashboard"})}}},ie=e("h3",null,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u0442\u044C \u0440\u0435\u0441\u0442\u043E\u0440\u0430\u043D\u043E\u0432!",-1),ne={class:"popup-TM__list"},le=["onClick"],ae=["src"];function re(t,o,a,l,s,i){const n=g("loading"),r=g("popup");return c(),p(d,null,[m(n),m(r,{blockedScreen:"",ref:"TMPopup"},{main:f(()=>[ie]),footer:f(({confirm:_})=>[e("ul",ne,[(c(!0),p(d,null,$(s.TMlist,h=>(c(),p("li",{key:h.title,onClick:Ve=>_(h),class:"popup-TM__item"},[e("img",{src:h.imgUrl},null,8,ae),e("span",null,y(h.title),1)],8,le))),128))])]),_:1},512)],64)}var ce=u(oe,[["render",re]]),pe="/pilsner/pwa/icons/drop-arrow.svg",_e="/pilsner/pwa/picture/panel-about.jpg",de="/pilsner/pwa/picture/panel-qr.svg",ue="/pilsner/pwa/icons/patch-prize.svg",he="/pilsner/pwa/icons/news-promo.svg",ge="/pilsner/pwa/icons/pilsner-title.svg",U="/pilsner/pwa/icons/inst.svg",me="/pilsner/pwa/icons/kozlovna-title.svg";const fe={name:"DashBoard",data(){return{gridList:[{imgUrl:this.$getURL("/pwa/icons/time.svg"),title:"\u0411\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/my-orders.svg"),title:"\u041C\u043E\u0438 \u0437\u0430\u043A\u0430\u0437\u044B",classes:["accent"]},{imgUrl:this.$getURL("/pwa/icons/lunch-gift.svg"),title:"\u041B\u0430\u043D\u0447-\u043A\u0430\u0440\u0442\u0430",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/lunch.svg"),title:"\u0411\u0438\u0437\u043D\u0435\u0441-\u043B\u0430\u043D\u0447",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/delivery.svg"),title:"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/pickup.svg"),title:"\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/delivery-table.svg"),title:"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430 \u0434\u043E \u0441\u0442\u043E\u043B\u0430",classes:["grid-panel__item--accent"]},{imgUrl:this.$getURL("/pwa/icons/marker.svg"),title:"\u0420\u0435\u0441\u0442\u043E\u0440\u0430\u043D\u044B",classes:[null]},{imgUrl:this.$getURL("/pwa/icons/review.svg"),title:"\u041E\u0442\u0437\u044B\u0432",classes:["grid-panel__item--white"]},{imgUrl:this.$getURL("/pwa/icons/settings.svg"),title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",classes:["grid-panel__item--white"]}]}}},ve={class:"dashboard section"},we={class:"container"},$e={class:"dashboard__wrap"},be=e("header",{class:"dashboard__header"},[e("h1",null,"\u041F\u0438\u043B\u0437\u043D\u0435\u0440"),e("div",{class:"dashboard__drop-arrow"},[e("img",{src:pe,alt:""})])],-1),ye={class:"dashboard__main"},Le={class:"panel__list"},Ue=w('<li class="panel__item"><img class="panel__bg" src="'+_e+'" alt=""><span class="title__about text-white">\u041E \u043D\u0430\u0441</span></li><li class="panel__item panel__item--primary"><div class="panel__wrap"><div class="panel__text text-white"><h2>\u0411\u043E\u043D\u0443\u0441\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430</h2><p class="text-med-norm panel-bonus">\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E</p><span><h2>1280</h2><h4>\u0431\u043E\u043D\u0443\u0441\u043E\u0432</h4></span></div><img class="panel__qr" src="'+de+'" alt=""></div></li>',2),ke={class:"panel__item panel__item--accent"},Pe={class:"panel__wrap panel__wrap--p20"},xe=e("img",{class:"panel__patch",src:ue,alt:""},null,-1),Re={class:"panel__text text-white"},Ce=e("h2",null,"\u041F\u0430\u0447 \u043A\u0430\u0440\u0442\u0430",-1),Ee=e("p",{class:"panel-patch"},"\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C",-1),Te={class:"panel__patch-list"},Me=["src"],Oe=e("li",{class:"panel__item"},[e("div",{class:"panel__wrap panel__wrap--news-promo"},[e("img",{src:he,alt:""}),e("h2",null,"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u0438 \u0430\u043A\u0446\u0438\u0438")])],-1),Se={class:"grid-panel__list text-white"},Be={class:"grid-panel__img"},Ne=["src"],Ae={class:"grid-panel__text"},je={class:"text-big-bold"},ze=w('<footer class="dashboard__footer"><ul class="soc__list"><li class="soc__item"><img src="'+ge+'" alt="" class="soc__title"><img src="'+U+'" alt="" class="soc__icon"></li><li class="soc__item"><img src="'+U+'" alt="" class="soc__icon"><img src="'+me+'" alt="soc" class="soc__title"></li></ul></footer>',1);function De(t,o,a,l,s,i){return c(),p("section",ve,[e("div",we,[e("div",$e,[be,e("main",ye,[e("ul",Le,[Ue,e("li",ke,[e("div",Pe,[xe,e("div",Re,[Ce,Ee,e("ul",Te,[(c(!0),p(d,null,$(Array(5),(n,r)=>(c(),p("li",{key:n,class:v({"panel__patch-item":!0,"panel__patch-item--has":r<=2})},[e("img",{src:r<=2?"/pwa/icons/patch-has.svg":"/pwa/icons/patch.svg",alt:""},null,8,Me)],2))),128))])])])]),Oe]),e("ul",Se,[(c(!0),p(d,null,$(s.gridList,n=>(c(),p("li",{key:n.title,class:v(["grid-panel__item",...n.classes])},[e("div",Be,[e("img",{src:n.imgUrl,alt:""},null,8,Ne)]),e("div",Ae,[e("p",je,y(n.title),1)])],2))),128))])]),ze])])])}var We=u(fe,[["render",De]]);const Ke=[{path:"/",name:"index",component:ce},{path:"/dashboard",name:"dashboard",component:We},{path:"/:pathMatch(.*)*",redirect:{name:"index"}}],qe=R({history:C("/pilsner/"),routes:Ke});var Fe={install:t=>{t.config.globalProperties.$getURL=o=>"/pilsner/"+(o.startsWith("/")?o.slice(1):o)}};function He(t={}){const{immediate:o=!1,onNeedRefresh:a,onOfflineReady:l,onRegistered:s,onRegisterError:i}=t;let n;const r=async(_=!0)=>{};return"serviceWorker"in navigator&&(n=new E("/pilsner/sw.js",{scope:"/pilsner/",type:"classic"}),n.addEventListener("activated",_=>{_.isUpdate?window.location.reload():l==null||l()}),n.register({immediate:o}).then(_=>{s==null||s(_)}).catch(_=>{i==null||i(_)})),r}He({});T(Y).use(qe).use(Fe).use(M).mount("#app");
