import{r as C,w as b,o as p,c as _,a as e,b as y,d as E,n as m,e as f,f as g,g as v,F as u,v as T,h as k,i as w,t as P,j as L,k as S,l as M,m as N,p as O,q as A,s as B}from"./vendor.4ed3fd31.js";const R=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&r(n)}).observe(document,{childList:!0,subtree:!0});function l(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=l(s);fetch(s.href,o)}};R();var h=(t,i)=>{const l=t.__vccOpts||t;for(const[r,s]of i)l[r]=s;return l};const W={name:"Popup",currentPopupController:null,props:{draggable:Boolean,blockedScreen:Boolean},mounted(){document.addEventListener("keydown",this.handleKeydown)},beforeUnmount(){document.removeEventListener("keydown",this.handleKeydown)},data(){return{show:!1}},methods:{swipeHandler(t,i){this.draggable&&(!i.target.closest(".popup__content")||i.cancelable)&&this.close()},handleKeydown(t){this.show&&t.key==="Escape"&&this.close()},open(){let t,i;const l=new Promise((r,s)=>{t=r,i=s});return this.$options.currentPopupController={resolve:t,reject:i},this.show=!0,l},confirm(t=!0){this.$options.currentPopupController.resolve(t),this.show=!1},close(t=!1){this.blockedScreen||(this.$options.currentPopupController.resolve(t),this.show=!1)}},watch:{show(t){t?(document.body.style.overflowY!="hidden"&&(document.body.style.overflowY="hidden"),this.$refs.popup&&(this.$refs.popup.style.visibility="visible")):(document.body.style.overflowY="auto",setTimeout(()=>{this.$refs.popup&&(this.$refs.popup.style.visibility="hidden")},350))}}},j={class:"popup__wrap"},z={class:"popup__content"},D={class:"popup__footer"};function K(t,i,l,r,s,o){const n=C("touch");return b((p(),_("div",{onClick:i[1]||(i[1]=E(c=>o.close(!1),["self"])),ref:"popup",class:m({popup:!0,"popup--show":s.show,"popup--draggable":l.draggable})},[e("div",j,[e("div",z,[y(t.$slots,"main")]),e("footer",D,[y(t.$slots,"footer",{confirm:o.confirm,close:o.close},()=>[e("button",{onClick:i[0]||(i[0]=(...c)=>o.confirm&&o.confirm(...c)),class:"btn"},"\u0417\u0430\u043A\u0440\u044B\u0442\u044C")])])])],2)),[[n,o.swipeHandler,"swipe",{bottom:!0}]])}var x=h(W,[["render",K]]),q="/pwa/icons/offline.svg";const V={name:"App",components:{Popup:x},mounted(){navigator.onLine?(window.addEventListener("offline",this.handleConnection),window.addEventListener("online",this.handleConnection)):setTimeout(this.openOfflinePopup,500)},beforeUnmount(){window.removeEventListener("offline",this.handleConnection),window.removeEventListener("online",this.handleConnection)},methods:{async openOfflinePopup(){await this.$refs.offlinePopup.open()},handleConnection(){navigator.onLine?this.offlinePopup=!1:this.openOfflinePopup()}}},F=e("img",{src:q,alt:"",class:"offline__icon"},null,-1),H=e("h3",{class:"offline__warning"},"\u0412\u043D\u0438\u043C\u0430\u043D\u0438\u0435!",-1),I=e("h2",null,"\u0418\u043D\u0442\u0435\u0440\u043D\u0435\u0442 \u0432 \u0434\u0430\u043D\u043D\u044B\u0439 \u043C\u043E\u043C\u0435\u043D\u0442 \u043E\u0442\u0441\u0443\u0442\u0441\u0432\u0443\u0435\u0442",-1),Y=e("p",{class:"offline__text"},"\u0414\u043E \u043F\u043E\u044F\u0432\u043B\u0435\u043D\u0438\u044F \u0441\u0432\u044F\u0437\u0438 \u0432\u044B \u043C\u043E\u0436\u0435\u0442\u0435 \u043F\u043E\u0440\u0430\u0431\u043E\u0442\u0430\u0442\u044C \u043D\u0430 \u0440\u0430\u043D\u0435\u0435 \u0441\u043E\u0445\u0440\u0430\u043D\u0435\u043D\u043D\u043E\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u043A\u043E\u043D\u0442\u0435\u043D\u0442\u0430 \u0438\u043B\u0438 \u043F\u043E\u043F\u0440\u043E\u0431\u043E\u0432\u0430\u0442\u044C \u043F\u043E\u0437\u0436\u0435.",-1),G=["onClick"];function J(t,i,l,r,s,o){const n=f("router-view"),c=f("popup");return p(),_(u,null,[g(n),g(c,{class:"popup--offline",ref:"offlinePopup",draggable:""},{main:v(()=>[F,H,I,Y]),footer:v(({confirm:d})=>[e("button",{onClick:d,class:"btn btn--primary"},"\u041F\u043E\u043D\u044F\u0442\u043D\u043E",8,G)]),_:1},512)],64)}var Q=h(V,[["render",J]]),X="/pwa/bg/loading-bg.svg",Z="/pwa/icons/logo.svg";const ee={name:"Loading",mounted(){setTimeout(()=>this.loaded=!0,1e3)},data(){return{loaded:!1}}},se={class:"loading"},te={class:"loading__bg",src:X,alt:""},oe=e("img",{class:"loading__logo",src:Z,alt:""},null,-1),ne=e("h2",{class:"text-white text-center"},[k("\u0414\u043E\u0431\u0440\u043E\u0435 \u0443\u0442\u0440\u043E,"),e("br"),k("\u0421\u0435\u0440\u0433\u0435\u0439")],-1),ie=[oe,ne];function ae(t,i,l,r,s,o){return p(),_("div",se,[b(e("img",te,null,512),[[T,s.loaded]]),e("div",{class:m({loading__info:!0,"loading__info--loaded":s.loaded})},ie,2)])}var le=h(ee,[["render",ae]]);const re={name:"Index",components:{Loading:le,Popup:x},created(){navigator.onLine&&setTimeout(this.openTMPopupPopup,1500)},data(){return{TMlist:[{imgUrl:"/pwa/icons/pilsner.svg",title:"\u041F\u0438\u043B\u0437\u043D\u0435\u0440"},{imgUrl:"/pwa/icons/kozlovitsa.svg",title:"\u041A\u043E\u0437\u043B\u043E\u0432\u0438\u0446\u0430"},{imgUrl:"/pwa/icons/kozlovna.svg",title:"\u041A\u043E\u0437\u043B\u043E\u0432\u043D\u0430"}]}},methods:{async openTMPopupPopup(){await this.$refs.TMPopup.open()&&this.$router.push({name:"dashboard"})}}},ce=e("h3",null,"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0435\u0442\u044C \u0440\u0435\u0441\u0442\u043E\u0440\u0430\u043D\u043E\u0432!",-1),pe={class:"popup-TM__list"},_e=["onClick"],de=["src"];function ue(t,i,l,r,s,o){const n=f("loading"),c=f("popup");return p(),_(u,null,[g(n),g(c,{blockedScreen:"",ref:"TMPopup"},{main:v(()=>[ce]),footer:v(({confirm:d})=>[e("ul",pe,[(p(!0),_(u,null,w(s.TMlist,a=>(p(),_("li",{key:a.title,onClick:$=>d(a),class:"popup-TM__item"},[e("img",{src:a.imgUrl},null,8,de),e("span",null,P(a.title),1)],8,_e))),128))])]),_:1},512)],64)}var he=h(re,[["render",ue]]),me="/pwa/icons/drop-arrow.svg",fe="/pwa/picture/panel-about.jpg",ge="/pwa/picture/panel-qr.svg",ve="/pwa/icons/patch-prize.svg",we="/pwa/icons/news-promo.svg",$e="/pwa/icons/pilsner-title.svg",U="/pwa/icons/inst.svg",be="/pwa/icons/kozlovna-title.svg";const ye={name:"DashBoard",data(){return{gridList:[{imgUrl:"/pwa/icons/time.svg",title:"\u0411\u0440\u043E\u043D\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435",classes:[null]},{imgUrl:"/pwa/icons/my-orders.svg",title:"\u041C\u043E\u0438 \u0437\u0430\u043A\u0430\u0437\u044B",classes:["accent"]},{imgUrl:"/pwa/icons/lunch-gift.svg",title:"\u041B\u0430\u043D\u0447-\u043A\u0430\u0440\u0442\u0430",classes:["grid-panel__item--accent"]},{imgUrl:"/pwa/icons/lunch.svg",title:"\u0411\u0438\u0437\u043D\u0435\u0441-\u043B\u0430\u043D\u0447",classes:[null]},{imgUrl:"/pwa/icons/delivery.svg",title:"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430",classes:[null]},{imgUrl:"/pwa/icons/pickup.svg",title:"\u0421\u0430\u043C\u043E\u0432\u044B\u0432\u043E\u0437",classes:["grid-panel__item--accent"]},{imgUrl:"/pwa/icons/delivery-table.svg",title:"\u0414\u043E\u0441\u0442\u0430\u0432\u043A\u0430 \u0434\u043E \u0441\u0442\u043E\u043B\u0430",classes:["grid-panel__item--accent"]},{imgUrl:"/pwa/icons/marker.svg",title:"\u0420\u0435\u0441\u0442\u043E\u0440\u0430\u043D\u044B",classes:[null]},{imgUrl:"/pwa/icons/review.svg",title:"\u041E\u0442\u0437\u044B\u0432",classes:["grid-panel__item--white"]},{imgUrl:"/pwa/icons/settings.svg",title:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",classes:["grid-panel__item--white"]}]}}},ke={class:"dashboard section"},Pe={class:"container"},Le={class:"dashboard__wrap"},xe=e("header",{class:"dashboard__header"},[e("h1",null,"\u041F\u0438\u043B\u0437\u043D\u0435\u0440"),e("div",{class:"dashboard__drop-arrow"},[e("img",{src:me,alt:""})])],-1),Ue={class:"dashboard__main"},Ce={class:"panel__list"},Ee=L('<li class="panel__item"><img class="panel__bg" src="'+fe+'" alt=""><span class="title__about text-white">\u041E \u043D\u0430\u0441</span></li><li class="panel__item panel__item--primary"><div class="panel__wrap"><div class="panel__text text-white"><h2>\u0411\u043E\u043D\u0443\u0441\u043D\u0430\u044F \u043A\u0430\u0440\u0442\u0430</h2><p class="text-med-norm panel-bonus">\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E</p><span><h2>1280</h2><h4>\u0431\u043E\u043D\u0443\u0441\u043E\u0432</h4></span></div><img class="panel__qr" src="'+ge+'" alt=""></div></li>',2),Te={class:"panel__item panel__item--accent"},Se={class:"panel__wrap panel__wrap--p20"},Me=e("img",{class:"panel__patch",src:ve,alt:""},null,-1),Ne={class:"panel__text text-white"},Oe=e("h2",null,"\u041F\u0430\u0447 \u043A\u0430\u0440\u0442\u0430",-1),Ae=e("p",{class:"panel-patch"},"\u0410\u043A\u0442\u0438\u0432\u043D\u043E\u0441\u0442\u044C",-1),Be={class:"panel__patch-list"},Re=["src"],We=e("li",{class:"panel__item"},[e("div",{class:"panel__wrap panel__wrap--news-promo"},[e("img",{src:we,alt:""}),e("h2",null,"\u041D\u043E\u0432\u043E\u0441\u0442\u0438 \u0438 \u0430\u043A\u0446\u0438\u0438")])],-1),je={class:"grid-panel__list text-white"},ze={class:"grid-panel__img"},De=["src"],Ke={class:"grid-panel__text"},qe={class:"text-big-bold"},Ve=L('<footer class="dashboard__footer"><ul class="soc__list"><li class="soc__item"><img src="'+$e+'" alt="" class="soc__title"><img src="'+U+'" alt="" class="soc__icon"></li><li class="soc__item"><img src="'+U+'" alt="" class="soc__icon"><img src="'+be+'" alt="soc" class="soc__title"></li></ul></footer>',1);function Fe(t,i,l,r,s,o){return p(),_("section",ke,[e("div",Pe,[e("div",Le,[xe,e("main",Ue,[e("ul",Ce,[Ee,e("li",Te,[e("div",Se,[Me,e("div",Ne,[Oe,Ae,e("ul",Be,[(p(!0),_(u,null,w(Array(5),(n,c)=>(p(),_("li",{key:n,class:m({"panel__patch-item":!0,"panel__patch-item--has":c<=2})},[e("img",{src:c<=2?"/pwa/icons/patch-has.svg":"/pwa/icons/patch.svg",alt:""},null,8,Re)],2))),128))])])])]),We]),e("ul",je,[(p(!0),_(u,null,w(s.gridList,n=>(p(),_("li",{key:n.title,class:m(["grid-panel__item",...n.classes])},[e("div",ze,[e("img",{src:n.imgUrl,alt:""},null,8,De)]),e("div",Ke,[e("p",qe,P(n.title),1)])],2))),128))])]),Ve])])])}var He=h(ye,[["render",Fe]]);const Ie=[{path:"/",name:"index",component:he},{path:"/dashboard",name:"dashboard",component:He}],Ye=S({history:M(),routes:Ie});function Ge(t={}){const{immediate:i=!1,onNeedRefresh:l,onOfflineReady:r,onRegistered:s,onRegisterError:o}=t;let n,c;const d=async(a=!0)=>{a&&(n==null||n.addEventListener("controlling",$=>{$.isUpdate&&window.location.reload()})),c&&c.waiting&&await O(c.waiting,{type:"SKIP_WAITING"})};if("serviceWorker"in navigator){n=new N("/sw.js",{scope:"/",type:"classic"}),n.addEventListener("activated",a=>{a.isUpdate||r==null||r()});{const a=()=>{l==null||l()};n.addEventListener("waiting",a),n.addEventListener("externalwaiting",a)}n.register({immediate:i}).then(a=>{c=a,s==null||s(a)}).catch(a=>{o==null||o(a)})}return d}Ge({});A(Q).use(Ye).use(B).mount("#app");
